import '../../domain/entities/patient_result.dart';

class PatientModel extends PatientResult {
  PatientModel({
    required String patientId,
    required String fullName,
    required String phone,
    required String address,
    required String email,
    required String gender,
    required String birthDate,
    required String maritalStatus,
    required String bloodType,
    required String hobbyTypeId,
    required String personalNumberId,
    required String emergencyName,
    required String emergencyPhone,
    required String allergies,
    required String chronicDiseases,
    required String medications,
    required String surgeries,
    required String medicalHistory,
    required String photo,
    required int invoiceCount,
  }) : super(
    patientId: patientId,
    fullName: fullName,
    phone: phone,
    address: address,
    email: email,
    gender: gender,
    birthDate: birthDate,
    maritalStatus: maritalStatus,
    bloodType: bloodType,
    hobbyTypeId: hobbyTypeId,
    personalNumberId: personalNumberId,
    emergencyName: emergencyName,
    emergencyPhone: emergencyPhone,
    allergies: allergies,
    chronicDiseases: chronicDiseases,
    medications: medications,
    surgeries: surgeries,
    medicalHistory: medicalHistory,
    photo: photo,
    invoiceCount: invoiceCount,
  );

  factory PatientModel.fromJson(Map<String, dynamic> json) {
    return PatientModel(
      patientId: json['patientid']?.toString() ?? '',
      fullName: json['full_name'] ?? '',
      phone: json['phone_primary'] ?? '',
      address: json['address'] ?? '',
      email: json['email'] ?? '',
      gender: json['gender'] ?? '',
      birthDate: json['dateofbirth'] ?? '',
      maritalStatus: json['maritalstatus'] ?? '',
      bloodType: json['bloodtype'] ?? '',
      hobbyTypeId: json['personalhobbytypeid']?.toString() ?? '',
      personalNumberId: json['personalnumberid'] ?? '',
      emergencyName: json['emergencycontactname'] ?? '',
      emergencyPhone: json['emergencycontactphone'] ?? '',
      allergies: json['allergies'] ?? '',
      chronicDiseases: json['chronicdiseases'] ?? '',
      medications: json['currentmedications'] ?? '',
      surgeries: json['previoussurgeries'] ?? '',
      medicalHistory: json['medicalhistory'] ?? '',
      photo: json['photo_patient'] ?? '',
      invoiceCount: int.tryParse(json['count_invoiceid']?.toString() ?? '') ?? 0,
    );
  }
}
